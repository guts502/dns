<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
<title>Ù¾Ù†Ù„ DNS Ø§Ø®ØªØµØ§ØµÛŒ</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  /* ÙÙˆÙ†Øª Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡ */
  * {
    box-sizing: border-box;
    font-family: 'Vazirmatn', sans-serif;
  }
  body {
    margin: 0;
    min-height: 100vh;
    background-color: #0a0a0a;
    background-image:
      radial-gradient(circle at 20% 20%, rgba(255,255,255,0.05) 0, transparent 60%),
      radial-gradient(circle at 80% 80%, rgba(255,255,255,0.04) 0, transparent 60%);
    color: #ddd;
    user-select: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    touch-action: pan-x pan-y;
    display: flex;
    justify-content: center;
    align-items: flex-start;
zap: 20px 10px;
  }

  #container {
    width: 100%;
    max-width: 900px;
    background: #121212cc;
    border-radius: 18px;
    box-shadow: 0 0 20px #000000bb;
    padding: 30px 40px;
    color: #e0e6e9;
  }

  /* Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ */
  #mainPanel {
    display: flex;
    flex-direction: column;
  }
  #mainPanel h1 {
    text-align: center;
    font-weight: 700;
    font-size: 28px;
    margin-bottom: 32px;
    color: #1b89a6;
    user-select: none;
  }

  /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
  .top-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 30px;
  }
  .btn {
    border: none;
    border-radius: 14px;
    padding: 14px 28px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: background 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 12px transparent;
    color: white;
  }
  .btn i {
    font-size: 20px;
  }

  #newDNSBtn {
    background: linear-gradient(135deg, #0d776f, #12b6a1);
    box-shadow: 0 5px 20px #12b6a1aa;
  }
  #newDNSBtn:hover {
    background: linear-gradient(135deg, #12b6a1, #0d776f);
    box-shadow: 0 6px 25px #12b6a1cc;
  }

  #clearAllBtn {
    background: linear-gradient(135deg, #b1353d, #dc4a55);
    box-shadow: 0 5px 18px #dc4a55aa;
  }
  #clearAllBtn:hover {
    background: linear-gradient(135deg, #dc4a55, #b1353d);
    box-shadow: 0 6px 25px #dc4a55cc;
  }

  #searchInput {
    padding: 12px 16px;
    border-radius: 18px;
    border: none;
    background: #22303a;
    color: #c8d6db;
    font-size: 16px;
    outline-offset: 2px;
    outline-color: #1b89a6;
    user-select: text;
    transition: background-color 0.25s ease;
    width: 260px;
  }
  #searchInput:focus {
    background: #2a3a48;
  }

  /* Ù¾Ù†Ø¬Ø±Ù‡ Ù…ÙˆØ¯Ø§Ù„ */
  #modalOverlay {
    position: fixed;
    inset: 0;
    background: rgba(10,10,10,0.95);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 99999;
  }
  #modal {
    background: #1f2a38;
    padding: 28px 32px;
    border-radius: 20px;
    box-shadow: 0 0 16px #12b6a1cc;
    width: 380px;
    max-width: 95vw;
    color: #c1ddd8;
  }
  #modal h2 {
    margin: 0 0 20px 0;
    font-weight: 700;
    font-size: 22px;
    text-align: center;
    color: #12b6a1;
  }
  #modal label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 15px;
    color: #9bd8cc;
  }
  #modal input, #modal select {
    width: 100%;
    padding: 12px 16px;
    border-radius: 14px;
    border: none;
    background: #2b3d4f;
    color: #cbd9d8;
    font-size: 15px;
    outline-offset: 2px;
    outline-color: #12b6a1;
    user-select: text;
    margin-bottom: 20px;
    transition: background-color 0.25s ease;
  }
  #modal input:focus, #modal select:focus {
    background: #386a84;
  }
  #createBtn, #createWgBtn {
    width: 100%;
    padding: 16px 0;
    background: linear-gradient(135deg, #0d776f, #12b6a1);
    border: none;
    border-radius: 18px;
    font-weight: 700;
    font-size: 18px;
    color: white;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 6px 20px #12b6a1cc;
    transition: background 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
  }
  #createBtn:hover, #createWgBtn:hover {
    background: linear-gradient(135deg, #12b6a1, #0d776f);
    box-shadow: 0 7px 24px #12b6a1ee;
  }
  #createBtn i, #createWgBtn i {
    font-size: 20px;
  }

  /* ØªØ¨â€ŒÙ‡Ø§ */
  .tab-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
  }
  .tab-btn {
    background: #2b3d4f;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    color: #cbd9d8;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .tab-btn.active {
    background: #12b6a1;
    color: white;
  }
  .tab-btn:hover {
    background: #386a84;
  }
  .tab-content {
    display: none;
  }
  .tab-content.active {
    display: block;
  }

  /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
  #dnsCards {
    max-height: 58vh;
    overflow-y: auto;
    padding-right: 12px;
    scrollbar-width: thin;
    scrollbar-color: #12b6a1 transparent;
  }
  #dnsCards::-webkit-scrollbar {
    width: 8px;
  }
  #dnsCards::-webkit-scrollbar-thumb {
    background: #12b6a1aa;
    border-radius: 12px;
  }

  .dnsCard, .wgCard {
    position: relative;
    background: #22343f;
    border-radius: 20px;
    padding: 26px 32px 32px;
    box-shadow: 0 2px 14px #0c423aaa;
    color: #cce3e0;
    font-size: 15.5px;
    user-select: text;
    margin-bottom: 22px;
  }
  .dnsCard .cardTitle, .wgCard .cardTitle {
    position: absolute;
    top: 14px;
    left: 24px;
    font-weight: 700;
    font-size: 19px;
    color: #12b6a1;
    user-select: none;
  }
  .ipGroup {
    display: flex;
    gap: 16px;
    justify-content: space-between;
    flex-wrap: wrap;
    margin-top: 48px;
  }
  .ipBox {
    flex: 1 1 22%;
    min-width: 110px;
    background: #2e4957;
    border-radius: 16px;
    padding: 14px 18px;
    font-family: monospace;
    font-weight: 700;
    font-size: 16px;
    text-align: center;
    color: #b1d7d2;
    user-select: all;
  }

  /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ú©Ø§Ø±Øª */
  .cardButtons {
    margin-top: 30px;
    display: flex;
    justify-content: flex-end;
    gap: 18px;
  }
  .cardButtons button {
    padding: 12px 26px;
    border-radius: 22px;
    font-weight: 700;
    font-size: 15.5px;
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    gap: 14px;
    border: none;
    color: white;
    box-shadow: none;
    transition: background 0.3s ease;
  }
  .cardButtons button.copyBtn {
    background: linear-gradient(135deg, #208040, #53a76a);
    box-shadow: 0 4px 12px #53a76aaa;
  }
  .cardButtons button.copyBtn:hover {
    background: linear-gradient(135deg, #176530, #3e7d4f);
    box-shadow: 0 6px 18px #3e7d4fcc;
  }
  .cardButtons button.downloadBtn {
    background: linear-gradient(135deg, #208040, #53a76a);
    box-shadow: 0 4px 12px #53a76aaa;
  }
  .cardButtons button.downloadBtn:hover {
    background: linear-gradient(135deg, #176530, #3e7d4f);
    box-shadow: 0 6px 18px #3e7d4fcc;
  }
  .cardButtons button.deleteBtn {
    background: linear-gradient(135deg, #b43c3c, #d85a5a);
    box-shadow: 0 4px 14px #d85a5aaa;
  }
  .cardButtons button.deleteBtn:hover {
    background: linear-gradient(135deg, #912b2b, #b73c3c);
    box-shadow: 0 6px 20px #b73c3ccc;
  }
  .cardButtons button i {
    font-size: 19px;
  }

  /* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
  @M_O_RT_EZA (max-width: 480px) {
    #container {
      padding: 24px 18px;
    }
    #mainPanel h1 {
      font-size: 22px;
      margin-bottom: 22px;
    }
    .top-buttons {
      flex-direction: column;
      gap: 16px;
      align-items: center;
    }
    #searchInput {
      width: 100%;
      max-width: 350px;
    }
    #modal {
      width: 90vw;
      padding: 20px 22px;
    }
    .ipGroup {
      flex-direction: column;
    }
    .ipBox {
      width: 100%;
      min-width: unset;
    }
    .cardButtons {
      justify-content: center;
      flex-wrap: wrap;
      gap: 14px;
    }
    .cardButtons button {
      width: 45%;
      justify-content: center;
    }
  }
</style>
</head>
<body>

<div id="container" role="main" aria-label="Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª DNS">
  <!-- Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ -->
  <section id="moriPanel" aria-label="Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ">
    <h1>Ø³Ù„Ø§Ù… Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ğŸŒ¹</h1>

    <div class="top-buttons" role="region" aria-label="Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ù¾Ù†Ù„">
      <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ù…..." aria-label="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ù…" />
      <button class="btn" id="clearAllBtn" title="Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ú©Ø¯Ù‡Ø§"><i class="fas fa-trash-alt"></i> Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡</button>
      <button class="btn" id="newDNSBtn" title="Ø³Ø§Ø®Øª DNS/WireGuard Ø¬Ø¯ÛŒØ¯"><i class="fas fa-plus-circle"></i> NEW DNS/WireGuard</button>
    </div>

    <div id="dnsCards" aria-live="polite" aria-relevant="additions removals"></div>
  </section>
</div>

<!-- Ù¾Ù†Ø¬Ø±Ù‡ Ù…ÙˆØ¯Ø§Ù„ -->
<div id="modalOverlay" tabindex="-1" aria-hidden="true">
  <div id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="tab-buttons">
      <button class="tab-btn active" data-tab="dnsTab">Ø³Ø§Ø®Øª DNS</button>
      <button class="tab-btn" data-tab="wireguardTab">Ø³Ø§Ø®Øª WireGuard</button>
    </div>

    <!-- ØªØ¨ DNS -->
    <div id="dnsTab" class="tab-content active">
      <h2 id="modalTitle">Ø³Ø§Ø®Øª DNS Ø¬Ø¯ÛŒØ¯</h2>
      <label for="dnsNameInput">Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡</label>
      <input type="text" id="dnsNameInput" placeholder="Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" autocomplete="off" />
      <label for="operatorSelect">Ù†ÙˆØ¹ Ø§Ù¾Ø±Ø§ØªÙˆØ±</label>
      <select id="operatorSelect">
        <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
        <option value="Irancell">Ø§ÛŒØ±Ø§Ù†Ø³Ù„</option>
        <option value="HamrahAval">Ù‡Ù…Ø±Ø§Ù‡ Ø§ÙˆÙ„</option>
        <option value="WiFi">ÙˆØ§ÛŒ ÙØ§ÛŒ</option>
        <option value="Rightel">Ø±Ø§ÛŒØªÙ„</option>
        <option value="Other">Ø³Ø§ÛŒØ±...</option>
      </select>
      <label for="serverSelect">Ø³Ø±ÙˆØ±</label>
      <select id="serverSelect">
        <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
        <option value="Germany">Ø¢Ù„Ù…Ø§Ù†</option>
        <option value="Emirates">Ø§Ù…Ø§Ø±Ø§Øª</option>
        <option value="Saudi">Ø¹Ø±Ø¨Ø³ØªØ§Ù†</option>
        <option value="Turkey">ØªØ±Ú©ÛŒÙ‡</option>
        <option value="Sweden">Ø³ÙˆØ¦Ø¯</option>
        <option value="Bahrain">Ø¨Ø­Ø±ÛŒÙ†</option>
      </select>
      <button id="createBtn" aria-label="Ø³Ø§Ø®Øª DNS Ø¬Ø¯ÛŒØ¯"><i class="fas fa-check-circle"></i> Ø³Ø§Ø®ØªÙ†</button>
    </div>

    <!-- ØªØ¨ WireGuard -->
    <div id="wireguardTab" class="tab-content" style="display: none;">
      <h2>Ø³Ø§Ø®Øª Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WireGuard</h2>
      <label for="wgNameInput">Ù†Ø§Ù… Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</label>
      <input type="text" id="wgNameInput" placeholder="Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" autocomplete="off" />
      <label for="wgAddress">Ø¢Ø¯Ø±Ø³ Ø±Ø§Ø¨Ø·</label>
      <input type="text" id="wgAddress" placeholder="Ù…Ø«Ø§Ù„: 10.0.0.1/24" value="10.0.0.1/24" />
      <label for="wgDNS">DNS (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
      <input type="text" id="wgDNS" placeholder="Ù…Ø«Ø§Ù„: 1.1.1.1" />
      <label for="wgPeerAllowedIPs">Allowed IPs</label>
      <input type="text" id="wgPeerAllowedIPs" placeholder="Ù…Ø«Ø§Ù„: 0.0.0.0/0, ::/0" value="0.0.0.0/0, ::/0" />
      <button id="createWgBtn" aria-label="Ø³Ø§Ø®Øª Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WireGuard"><i class="fas fa-check-circle"></i> Ø³Ø§Ø®ØªÙ†</button>
    </div>
  </div>
</div>

<script>
  // Ù…Ø±Ø§Ø¬Ø¹ Ø¯Ø§Ù…ÛŒÙ† Ùˆ Ø¹Ù†Ø§ØµØ± ØµÙØ­Ù‡
  const newDNSBtn = document.getElementById('newDNSBtn');
  const modalOverlay = document.getElementById('modalOverlay');
  const dnsNameInput = document.getElementById('dnsNameInput');
  const operatorSelect = document.getElementById('operatorSelect');
  const serverSelect = document.getElementById('serverSelect');
  const createBtn = document.getElementById('createBtn');
  const createWgBtn = document.getElementById('createWgBtn');
  const dnsCardsContainer = document.getElementById('dnsCards');
  const clearAllBtn = document.getElementById('clearAllBtn');
  const searchInput = document.getElementById('searchInput');

  const STORAGE_KEY = 'dnsCardsData_v2';
  const WG_STORAGE_KEY = 'wireguardConfigs_v1';

  // Ù†Ù‚Ø´ Ø±Ù†Ú¯â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆØ±Ù‡Ø§
  const serverPatterns = {
    Germany: '89.19.x.x',
    Emirates: '193.123.x.x',
    Saudi: '89.237.x.x',
    Turkey: '85.105.x.x',
    Sweden: '46.254.x.x',
    Bahrain: '80.95.x.x',
  };

  // ØªÙˆÙ„ÛŒØ¯ Ú©Ù„ÛŒØ¯ ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ WireGuard (Ø´Ø¨ÛŒÙ‡ Base64)
  function generateRandomKey() {
    return btoa(String.fromCharCode(...Array(32).fill().map(() => Math.floor(Math.random() * 256)))).slice(0, 44);
  }

  // ØªÙˆÙ„ÛŒØ¯ Endpoint Ø±Ù†Ø¯ÙˆÙ… Ø¨Ø§ Ù¾ÙˆØ±Øª 443
  function generateRandomEndpoint() {
    const ipParts = Array(4).fill().map(() => Math.floor(Math.random() * 256));
    return `${ipParts.join('.')}:443`;
  }

  // Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¨â€ŒÙ‡Ø§
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
      btn.classList.add('active');
      document.getElementById(btn.dataset.tab).style.display = 'block';
    });
  });

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ø¯Ø± Ø´Ø±ÙˆØ¹
  window.addEventListener('load', () => {
    loadDnsCards();
    loadWireguardConfigs();
  });

  // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…ÙˆØ¯Ø§Ù„
  newDNSBtn.addEventListener('click', () => {
    dnsNameInput.value = '';
    operatorSelect.value = '';
    serverSelect.value = '';
    document.getElementById('wgNameInput').value = '';
    document.getElementById('wgAddress').value = '10.0.0.1/24';
    document.getElementById('wgDNS').value = '';
    document.getElementById('wgPeerAllowedIPs').value = '0.0.0.0/0, ::/0';
    modalOverlay.style.display = 'flex';
    dnsNameInput.focus();
  });

  // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø¨ÛŒØ±ÙˆÙ†
  modalOverlay.addEventListener('click', e => {
    if (e.target === modalOverlay) {
      modalOverlay.style.display = 'none';
    }
  });

  // ØªÙˆÙ„ÛŒØ¯ Ø¢Ø¯Ø±Ø³ IPv4 Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø³Ø±ÙˆØ±
  function generateIPv4(pattern) {
    let parts = pattern.split('.');
    for (let i = 0; i < parts.length; i++) {
      if (parts[i] === 'x') {
        parts[i] = Math.floor(Math.random() * 241) + 10; // 10 ØªØ§ 250
      }
    }
    return parts.join('.');
  }

  // ØªÙˆÙ„ÛŒØ¯ Ø¢Ø¯Ø±Ø³ IPv6 Ø¨Ø§ Ø§Ù„Ú¯ÙˆÛŒ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡
  function generateIPv6(pattern) {
    const chars = 'abcdef123456789';
    return pattern.replace(/x/g, () => chars[Math.floor(Math.random() * chars.length)]);
  }

  // Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ DNS
  function saveDnsCards() {
    const cards = [];
    dnsCardsContainer.querySelectorAll('.dnsCard').forEach(cardEl => {
      if (!cardEl.classList.contains('wgCard')) {
        const name = cardEl.querySelector('.cardTitle').textContent;
        const ips = [];
        cardEl.querySelectorAll('.ipBox').forEach(ipBox => ips.push(ipBox.textContent));
        cards.push({ name, ips });
      }
    });
    localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
  }

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ DNS
  function loadDnsCards() {
    dnsCardsContainer.innerHTML = '';
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      try {
        const cards = JSON.parse(saved);
        cards.forEach(card => {
          dnsCardsContainer.appendChild(createCardElement({ name: card.name, ips: card.ips }));
        });
      } catch {
        localStorage.removeItem(STORAGE_KEY);
      }
    }
  }

  // Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ WireGuard
  function saveWireguardConfigs() {
    const configs = [];
    dnsCardsContainer.querySelectorAll('.wgCard').forEach(cardEl => {
      const name = cardEl.querySelector('.cardTitle').textContent;
      const config = cardEl.dataset.config;
      configs.push({ name, config });
    });
    localStorage.setItem(WG_STORAGE_KEY, JSON.stringify(configs));
  }

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ WireGuard
  function loadWireguardConfigs() {
    const saved = localStorage.getItem(WG_STORAGE_KEY);
    if (saved) {
      try {
        const configs = JSON.parse(saved);
        configs.forEach(config => {
          dnsCardsContainer.appendChild(createWgCardElement(config));
        });
      } catch {
        localStorage.removeItem(WG_STORAGE_KEY);
      }
    }
  }

  // Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Øª DNS Ø¬Ø¯ÛŒØ¯
  function addDnsCard(card) {
    dnsCardsContainer.appendChild(createCardElement(card));
  }

  // Ø­Ø°Ù Ú©Ø§Ø±Øª DNS
  function removeDnsCard(name) {
    const cards = Array.from(dnsCardsContainer.children);
    for (let cardEl of cards) {
      if (cardEl.querySelector('.cardTitle').textContent === name && !cardEl.classList.contains('wgCard')) {
        cardEl.remove();
        break;
      }
    }
    saveDnsCards();
  }

  // Ø³Ø§Ø®Øª Ø¹Ù†ØµØ± Ú©Ø§Ø±Øª DNS
  function createCardElement(card) {
    const cardEl = document.createElement('div');
    cardEl.classList.add('dnsCard');

    const titleEl = document.createElement('div');
    titleEl.classList.add('cardTitle');
    titleEl.textContent = card.name;
    cardEl.appendChild(titleEl);

    const ipGroup = document.createElement('div');
    ipGroup.classList.add('ipGroup');

    card.ips.forEach(ip => {
      const ipBox = document.createElement('div');
      ipBox.classList.add('ipBox');
      ipBox.textContent = ip;
      ipGroup.appendChild(ipBox);
    });

    cardEl.appendChild(ipGroup);

    const btnGroup = document.createElement('div');
    btnGroup.classList.add('cardButtons');

    const copyBtn = document.createElement('button');
    copyBtn.classList.add('copyBtn');
    copyBtn.innerHTML = '<i class="fas fa-copy"></i> Ú©Ù¾ÛŒ';
    copyBtn.title = 'Ú©Ù¾ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒâ€ŒÙ‡Ø§';
    copyBtn.setAttribute('aria-label', 'Ú©Ù¾ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒâ€ŒÙ‡Ø§');
    copyBtn.addEventListener('click', () => {
      const textToCopy = card.ips.join('\n');
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(textToCopy).then(() => {
          alert('Ø¢ÛŒâ€ŒÙ¾ÛŒâ€ŒÙ‡Ø§ Ú©Ù¾ÛŒ Ø´Ø¯!');
        }).catch(() => {
          fallbackCopyText(textToCopy);
        });
      } else {
        fallbackCopyText(textToCopy);
      }
    });

    const deleteBtn = document.createElement('button');
    deleteBtn.classList.add('deleteBtn');
    deleteBtn.innerHTML = '<i class="fas fa-trash"></i> Ø­Ø°Ù';
    deleteBtn.title = 'Ø­Ø°Ù Ú©Ø§Ø±Ø¯';
    deleteBtn.setAttribute('aria-label', 'Ø­Ø°Ù Ú©Ø§Ø±Ø¯');
    deleteBtn.addEventListener('click', () => {
      if (confirm(`Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù "${card.name}" Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ`)) {
        removeDnsCard(card.name);
      }
    });

    btnGroup.appendChild(copyBtn);
    btnGroup.appendChild(deleteBtn);
    cardEl.appendChild(btnGroup);

    return cardEl;
  }

  // Ø³Ø§Ø®Øª Ø¹Ù†ØµØ± Ú©Ø§Ø±Øª WireGuard
  function createWgCardElement(config) {
    const cardEl = document.createElement('div');
    cardEl.classList.add('dnsCard', 'wgCard');
    cardEl.dataset.config = config.config;

    const titleEl = document.createElement('div');
    titleEl.classList.add('cardTitle');
    titleEl.textContent = config.name;
    cardEl.appendChild(titleEl);

    const configEl = document.createElement('pre');
    configEl.textContent = config.config;
    configEl.style.background = '#2e4957';
    configEl.style.borderRadius = '16px';
    configEl.style.padding = '14px 18px';
    configEl.style.fontFamily = 'monospace';
    configEl.style.color = '#b1d7d2';
    configEl.style.userSelect = 'all';
    cardEl.appendChild(configEl);

    const btnGroup = document.createElement('div');
    btnGroup.classList.add('cardButtons');

    const copyBtn = document.createElement('button');
    copyBtn.classList.add('copyBtn');
    copyBtn.innerHTML = '<i class="fas fa-copy"></i> Ú©Ù¾ÛŒ';
    copyBtn.title = 'Ú©Ù¾ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ';
    copyBtn.setAttribute('aria-label', 'Ú©Ù¾ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ');
    copyBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(config.config).then(() => {
        alert('Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ú©Ù¾ÛŒ Ø´Ø¯!');
      }).catch(() => {
        fallbackCopyText(config.config);
      });
    });

    const downloadBtn = document.createElement('button');
    downloadBtn.cl
